// Paste the contents into this variable as a multiline string
const contentText = `MTL Joel Armia Over 1.5 (25) (5/5) (10/10) (12 Straight)
LAK Quinton Byfield Over 1.5 (25) (5/5) (10/10) (12 Straight)
FLA Anton Lundell Over 1.5 (24) (5/5) (10/10) (11 Straight)
WSH TJ Oshie Under 2.5 (21) (5/5) (9/10) (9 Straight)
NSH Roman Josi Under 3.5 (19) (5/5) (9/10) (7 Straight)
EDM Evander Kane Over 2.5 (16) (5/5) (8/10) (5 Straight)
BUF John-Jason Peterka Over 2.5 (16) (5/5) (7/10) (6 Straight)
MIN Jonas Brodin Over 1.5 (16) (5/5) (7/10) (6 Straight)
FLA Sam Bennett Under 2.5 (16) (5/5) (7/10) (6 Straight)
TOR William Nylander Under 4.5 (15) (4/5) (8/10) (4 Straight)
NJD Jack Hughes Over 3.5 (15) (5/5) (7/10) (5 Straight)
FLA Evan Rodrigues Over 1.5 (15) (4/5) (8/10) (4 Straight)
VGK Mark Stone Over 1.5 (15) (4/5) (8/10) (4 Straight)
CAR Michael Bunting Over 1.5 (14) (5/5) (6/10) (5 Straight)
MTL Cole Caufield Over 3.5 (13) (4/5) (8/10) (2 Straight)
STL Jordan Kyrou Under 3.5 (13) (3/5) (8/10) (2 Straight)
NJD Jesper Bratt Over 2.5 (13) (4/5) (7/10) (3 Straight)
OTT Claude Giroux Over 2.5 (13) (4/5) (7/10) (3 Straight)
VGK Jonathan Marchessault Over 2.5 (13) (4/5) (8/10) (2 Straight)
VAN Elias Pettersson Under 2.5 (13) (5/5) (7/10) (6 Straight)
CAR Andrei Svechnikov Under 2.5 (13) (4/5) (7/10) (3 Straight)
WSH Tom Wilson Under 2.5 (13) (3/5) (8/10) (2 Straight)
OTT Drake Batherson Under 1.5 (13) (4/5) (9/10) (4 Straight)
BOS Charlie McAvoy Over 1.5 (13) (4/5) (8/10) (2 Straight)
EDM Connor McDavid Under 3.5 (12) (4/5) (5/10) (4 Straight)
WSH Alex Ovechkin Under 3.5 (12) (3/5) (7/10) (2 Straight)
PHI Owen Tippett Over 3.5 (12) (3/5) (6/10) (3 Straight)
TOR Tyler Bertuzzi Under 2.5 (12) (3/5) (8/10) (1 Straight)
DAL Tyler Seguin Under 2.5 (12) (2/5) (7/10) (2 Straight)
CGY Yegor Sharangovich Under 2.5 (12) (4/5) (9/10) (0 Straight)
TBL Steven Stamkos Over 2.5 (12) (3/5) (6/10) (3 Straight)
MTL Nick Suzuki Under 2.5 (12) (3/5) (8/10) (1 Straight)
ANA Troy Terry Under 2.5 (12) (3/5) (6/10) (3 Straight)
BUF Alex Tuch Over 2.5 (12) (4/5) (6/10) (3 Straight)
BOS Jake DeBrusk Over 1.5 (12) (4/5) (6/10) (3 Straight)
TBL Michael Eyssimont Over 1.5 (12) (3/5) (7/10) (2 Straight)
MIN Brock Faber Over 1.5 (12) (3/5) (7/10) (2 Straight)
BOS Pavel Zacha Over 1.5 (12) (3/5) (7/10) (2 Straight)
CGY Rasmus Andersson Over 1.5 (12) (4/5) (6/10) (3 Straight)
OTT Brady Tkachuk Over 3.5 (11) (4/5) (5/10) (3 Straight)
WSH John Carlson Under 2.5 (11) (4/5) (7/10) (1 Straight)
TBL Anthony Cirelli Under 2.5 (11) (3/5) (8/10) (0 Straight)
DAL Roope Hintz Under 2.5 (11) (4/5) (7/10) (1 Straight)
NJD Nico Hischier Over 2.5 (11) (5/5) (6/10) (5 Straight)
CBJ Boone Jenner Over 2.5 (11) (3/5) (5/10) (3 Straight)
WSH Dylan Strome Under 2.5 (11) (3/5) (6/10) (2 Straight)
TOR Noah Gregor Over 1.5 (11) (4/5) (5/10) (3 Straight)
ANA Adam Henrique Over 1.5 (11) (4/5) (7/10) (1 Straight)
VGK William Karlsson Over 1.5 (11) (3/5) (6/10) (2 Straight)
WSH Connor McMichael Over 1.5 (11) (4/5) (5/10) (3 Straight)
WPG Nino Niederreiter Over 1.5 (11) (4/5) (5/10) (3 Straight)
WPG Neal Pionk Over 1.5 (11) (3/5) (6/10) (2 Straight)
CBJ Dmitri Voronkov Over 1.5 (11) (2/5) (7/10) (1 Straight)
MIN Matt Boldy Over 3.5 (11) (4/5) (5/10) (3 Straight)
LAK Viktor Arvidsson Over 3.5 (11) (1/5) (1/10) (1 Straight)
FLA Carter Verhaege Under 3.5 (11) (3/5) (6/10) (2 Straight)
WPG Josh Morrissey Under 2.5 (11) (4/5) (7/10) (1 Straight)
BOS James VanRiemsdyk Under 2.5 (11) (4/5) (7/10) (1 Straight)
BOS David Pastrnak Over 4.5 (10) (2/5) (6/10) (1 Straight)
CGY Nazem Kadri Under 3.5 (10) (3/5) (6/10) (1 Straight)
TBL Nikita Kucherov Over 3.5 (10) (2/5) (5/10) (2 Straight)
TOR John Tavares Over 3.5 (10) (3/5) (7/10) (0 Straight)
CHI Connor Bedard Over 2.5 (10) (2/5) (6/10) (1 Straight)
VAN Brock Boeser Under 2.5 (10) (4/5) (7/10) (3 Straight)
EDM Evan Bouchard Over 2.5 (10) (3/5) (4/10) (3 Straight)
CAR Brent Burns Over 2.5 (10) (3/5) (4/10) (3 Straight)
FLA Aaron Ekblad Under 2.5 (10) (3/5) (6/10) (1 Straight)
VAN Conor Garland Under 2.5 (10) (3/5) (6/10) (1 Straight)
CBJ Johnny Gaudreau Under 2.5 (10) (3/5) (6/10) (1 Straight)
TBL Victor Hedman Under 2.5 (10) (3/5) (7/10) (0 Straight)
CAR Seth Jarvis Under 2.5 (10) (3/5) (6/10) (1 Straight)
DET Patrick Kane Over 2.5 (10) (2/5) (7/10) (0 Straight)
LAK Adrian Kempe Over 2.5 (10) (3/5) (6/10) (1 Straight)
VAN Elias Lindholm Over 2.5 (10) (3/5) (6/10) (1 Straight)
CGY Andrew Mangiapane Over 2.5 (10) (4/5) (6/10) (4 Straight)
CBJ Kirill Marchenko Over 2.5 (10) (3/5) (6/10) (1 Straight)
LAK Trevor Moore Over 2.5 (10) (1/5) (6/10) (1 Straight)
CAR Martin Necas Over 2.5 (10) (3/5) (7/10) (0 Straight)
DAL Joe Pavelski Over 2.5 (10) (2/5) (6/10) (1 Straight)
BUF Jeff Skinner Under 2.5 (10) (5/5) (5/10) (5 Straight)
MTL Juraj Slafkovsky Under 2.5 (10) (2/5) (6/10) (1 Straight)
ANA Frank Vatrano Over 2.5 (10) (4/5) (6/10) (1 Straight)
CGY MacKenzie Weegar Under 2.5 (10) (4/5) (5/10) (2 Straight)
SJS Fabian Zetterlund Under 2.5 (10) (3/5) (5/10) (2 Straight)
DAL Matt Duchene Over 1.5 (10) (3/5) (6/10) (1 Straight)
SJS William Eklund Over 1.5 (10) (2/5) (5/10) (2 Straight)
EDM Warren Foegele Over 1.5 (10) (3/5) (6/10) (1 Straight)
PHI Morgan Frost Over 1.5 (10) (2/5) (7/10) (0 Straight)
SJS Mikael Granlund Over 1.5 (10) (2/5) (5/10) (2 Straight)
DAL Thomas Harley Over 1.5 (10) (3/5) (6/10) (1 Straight)
VAN Filip Hronek Over 1.5 (10) (3/5) (7/10) (0 Straight)
LAK Alex Laferriere Over 1.5 (10) (3/5) (7/10) (0 Straight)
ANA Mason McTavish Over 1.5 (10) (3/5) (6/10) (1 Straight)
STL Jake Neighbours Over 1.5 (10) (2/5) (6/10) (1 Straight)
MTL Alex Newhook Over 1.5 (10) (4/5) (6/10) (4 Straight)
WPG Cole Perfetti Over 1.5 (10) (3/5) (7/10) (0 Straight)
VGK Alex Pietrangelo Over 1.5 (10) (3/5) (5/10) (2 Straight)
STL Brayden Schenn Over 1.5 (10) (3/5) (6/10) (1 Straight)
CAR Brady Skjei Over 1.5 (10) (3/5) (7/10) (0 Straight)
STL Robert Thomas Over 1.5 (10) (3/5) (6/10) (1 Straight)
VAN Quinn Hughes Under 2.5 (10) (3/5) (6/10) (1 Straight)
NSH Ryan O'Reilly Under 2.5 (10) (3/5) (6/10) (1 Straight)
TOR Auston Matthews Under 4.5 (9) (2/5) (6/10) (0 Straight)
WPG Kyle Connor Over 3.5 (9) (2/5) (5/10) (1 Straight)
MIN Kirill Kaprizov Under 3.5 (9) (3/5) (6/10) (0 Straight)
PHI Travis Konecny Under 3.5 (9) (3/5) (6/10) (0 Straight)
TOR Mitchell Marner Under 3.5 (9) (2/5) (6/10) (0 Straight)
CGY Mikael Backlund Over 2.5 (9) (2/5) (5/10) (1 Straight)
FLA Aleksander Barkov Under 2.5 (9) (4/5) (7/10) (2 Straight)
OTT Thomas Chabot Over 2.5 (9) (2/5) (5/10) (1 Straight)
OTT Jakob Chychrun Under 2.5 (9) (3/5) (6/10) (0 Straight)
CGY Blake Coleman Under 2.5 (9) (3/5) (5/10) (1 Straight)
PHI Sean Couturier Over 2.5 (9) (3/5) (6/10) (0 Straight)
BUF Dylan Cozens Over 2.5 (9) (3/5) (5/10) (1 Straight)
BUF Rasmus Dahlin Over 2.5 (9) (2/5) (5/10) (1 Straight)
EDM Leon Draisaitl Under 2.5 (9) (3/5) (7/10) (2 Straight)
WPG Nikolaj Ehlers Over 2.5 (9) (1/5) (6/10) (0 Straight)
PHI Joel Farabee Under 2.5 (9) (3/5) (4/10) (2 Straight)
NSH Cody Glass Under 2.5 (9) (2/5) (6/10) (0 Straight)
MIN Ryan Hartman Under 2.5 (9) (2/5) (5/10) (1 Straight)
CHI Seth Jones Under 2.5 (9) (3/5) (6/10) (0 Straight)
STL Torey Krug Under 2.5 (9) (2/5) (6/10) (0 Straight)
EDM Ryan Nugent-Hopkins Under 2.5 (9) (3/5) (5/10) (1 Straight)
WSH Max Pacioretty Under 2.5 (9) (3/5) (5/10) (1 Straight)
TBL Brayden Point Over 2.5 (9) (3/5) (5/10) (1 Straight)
FLA Sam Reinhart Under 2.5 (9) (4/5) (7/10) (2 Straight)
WPG Mark Scheifele Under 2.5 (9) (2/5) (6/10) (0 Straight)
DET Daniel Sprong Under 2.5 (9) (2/5) (4/10) (2 Straight)
FLA Matthew Tkachuk Over 2.5 (9) (2/5) (6/10) (0 Straight)
BOS Charlie Coyle Over 1.5 (9) (2/5) (4/10) (2 Straight)
TOR Max Domi Under 1.5 (9) (2/5) (5/10) (1 Straight)
MTL Brendan Gallagher Over 1.5 (9) (2/5) (6/10) (0 Straight)
CHI Philipp Kurashev Over 1.5 (9) (3/5) (5/10) (1 Straight)
CAR Jordan Martinook Over 1.5 (9) (2/5) (5/10) (1 Straight)
BUF Casey Mittelstadt Over 1.5 (9) (3/5) (5/10) (1 Straight)
WPG Sean Monahan Over 1.5 (9) (3/5) (5/10) (1 Straight)
OTT Vladimir Tarasenko Over 1.5 (9) (2/5) (6/10) (0 Straight)
CBJ Zach Werenski Under 3.5 (9) (2/5) (6/10) (0 Straight)
DET Dylan Larkin Over 2.5 (9) (3/5) (5/10) (1 Straight)
VAN JT Miller Under 2.5 (9) (2/5) (5/10) (1 Straight)
FLA Brandon Montour Under 2.5 (9) (3/5) (4/10) (2 Straight)
OTT Josh Norris Under 2.5 (9) (4/5) (6/10) (0 Straight)
NSH Thomas Novak Over 1.5 (9) (4/5) (5/10) (1 Straight)
NSH Filip Forsberg Over 3.5 (8) (2/5) (5/10) (0 Straight)
EDM Zach Hyman Over 3.5 (8) (2/5) (3/10) (2 Straight)
BUF Tage Thompson Under 3.5 (8) (2/5) (5/10) (0 Straight)
CAR Sebastian Aho Under 2.5 (8) (2/5) (6/10) (2 Straight)
PHI Cam Atkinson Under 2.5 (8) (4/5) (7/10) (1 Straight)
STL Pavel Buchnevich Over 2.5 (8) (1/5) (4/10) (1 Straight)
LAK Kevin Fiala Under 2.5 (8) (3/5) (6/10) (2 Straight)
TBL Brandon Hagel Under 2.5 (8) (2/5) (5/10) (0 Straight)
DAL Wyatt Johnston Over 2.5 (8) (3/5) (7/10) (1 Straight)
BOS Brad Marchand Over 2.5 (8) (2/5) (5/10) (0 Straight)
NJD Timo Meier Over 2.5 (8) (3/5) (5/10) (0 Straight)
OTT Shane Pinto Over 2.5 (8) (3/5) (5/10) (0 Straight)
DAL Jason Robertson Over 2.5 (8) (1/5) (4/10) (1 Straight)
OTT Tim Stutzle Over 2.5 (8) (1/5) (5/10) (0 Straight)
MIN Mats Zuccarello Over 2.5 (8) (2/5) (3/10) (2 Straight)
MTL Josh Anderson Over 1.5 (8) (1/5) (4/10) (1 Straight)
SJS Alexander Barabanov Under 1.5 (8) (4/5) (5/10) (0 Straight)
LAK Phillip Danault Over 1.5 (8) (2/5) (5/10) (0 Straight)
LAK Pierre-Luc Dubois Over 1.5 (8) (2/5) (5/10) (0 Straight)
CHI Nick Foligno Over 1.5 (8) (3/5) (5/10) (0 Straight)
FLA Gustav Forsling Over 1.5 (8) (2/5) (5/10) (0 Straight)
NJD Erik Haula Under 1.5 (8) (3/5) (6/10) (2 Straight)
STL Kevin Hayes Over 1.5 (8) (2/5) (4/10) (1 Straight)
CGY Andrei Kuzmenko Under 1.5 (8) (2/5) (5/10) (0 Straight)
NSH Gustav Nyquist Over 1.5 (8) (2/5) (5/10) (0 Straight)
DET David Perron Over 1.5 (8) (3/5) (5/10) (0 Straight)
MIN Marco Rossi Over 1.5 (8) (3/5) (4/10) (1 Straight)
CBJ Cole Sillinger Over 1.5 (8) (2/5) (5/10) (0 Straight)
WPG Gabriel Vilardi Over 1.5 (8) (1/5) (4/10) (1 Straight)
MIN Joel Eriksson-Ek Over 3.5 (8) (3/5) (5/10) (0 Straight)
DET Alex DeBrincat Under 2.5 (8) (4/5) (7/10) (1 Straight)
MTL Mike Matheson Under 2.5 (8) (4/5) (6/10) (2 Straight)
CAR Teuvo Teravainen Over 1.5 (8) (1/5) (4/10) (1 Straight)
NJD Tyler Toffoli Under 3.5 (7) (4/5) (5/10) (0 Straight)
CGY Noah Hanifin Under 2.5 (7) (2/5) (5/10) (0 Straight)
DAL Miro Heiskanen Under 2.5 (7) (3/5) (7/10) (0 Straight)
CHI Tyler Johnson Under 1.5 (7) (3/5) (7/10) (1 Straight)`;

// Store content as an array instead of a string
const contentArray = contentText.split('\n');

// Function to get border color based on team abbreviation
function getTeamColor(abbreviation) {
    const colors = {
        'ANA': '#B9975B',
        'ARI': '#8C2633',
        'BOS': '#FFB81C',
        'BUF': '#003087',
        'CGY': '#D2001C',
        'CAR': '#CE1126',
        'CHI': '#CF0A2C',
        'COL': '#6F263D',
        'CBJ': '#002654',
        'DAL': '#006847',
        'DET': '#CE1126',
        'EDM': '#FF4C00',
        'FLA': '#C8102E',
        'LAK': '#111111',
        'MIN': '#154734',
        'MTL': '#AF1E2D',
        'NSH': '#FFB81C',
        'NJD': '#CE1126',
        'NYI': '#00539B',
        'NYR': '#0038A8',
        'OTT': '#DA1A32',
        'PHI': '#F74902',
        'PIT': '#FCB514',
        'SJS': '#006D75',
        'SEA': '#99D9D9',
        'STL': '#002F87',
        'TBL': '#002868',
        'TOR': '#00205B',
        'VAN': '#00205B',
        'VGK': '#B4975A',
        'WSH': '#C8102E',
        'WPG': '#041E42'
    };
    return colors[abbreviation] || '#000000'; // Return black if no matching abbreviation found
}

// Function to set content in the HTML
function setContent() {
    const contentDiv = document.getElementById('content');
    // Iterate over the content array
    contentArray.forEach(line => {
        // Remove the first word (team abbreviation) from the line
        const lineWithoutAbbreviation = line.split(' ').slice(1).join(' ');
        
        // Extract relevant data from the line
        const lineElements = lineWithoutAbbreviation.split(' ');
        const firstname = lineElements[0].toLowerCase(); // First name (assumed to be the first word)
        const lastname = lineElements[1].toLowerCase(); // Last name (assumed to be the second word)
        
        // Construct the player statistics URL
        const playerStatsURL = `https://www.foxsports.com/nhl/${firstname}-${lastname}-player-game-log?season=2023&seasonType=reg`;

        const lineContainer = document.createElement('div'); // Create container for each line
        lineContainer.classList.add('line-container', 'oswald-font'); // Add CSS classes for styling
        lineContainer.style.display = 'flex'; // Set display to flex

        // Extract team abbreviation from the line and convert it to uppercase
        const abbreviation = line.split(' ')[0].toUpperCase(); // Assuming the abbreviation is the first word

        lineContainer.style.borderColor = getTeamColor(abbreviation);

        // Create an image element
        const logoImg = document.createElement('img');
        logoImg.src = `https://assets.nhle.com/logos/nhl/svg/${abbreviation}_light.svg`; // Set the source URL
        logoImg.alt = `${abbreviation} Logo`; // Set alt text for accessibility
        logoImg.style.maxHeight = '1.5em'; // Set maximum height
        logoImg.style.marginRight = '10px'; // Add right margin to create space between image and text
        logoImg.style.flexShrink = '0'; // Prevent image from shrinking

        // Append the image before the line
        lineContainer.appendChild(logoImg);

        // Create a div for the line text
        const lineDiv = document.createElement('div');
        lineDiv.textContent = lineWithoutAbbreviation.trim(); // Use the modified line without the abbreviation

        // Append line text to container
        lineContainer.appendChild(lineDiv);

        // Construct tooltip text using relevant data from the line
        const prop = lineElements[2].toString().toLowerCase();
        const outof5 = lineElements[5].split('/')[0].slice(1);
        const outof10 = lineElements[6].split('/')[0].slice(1);
        const streak = lineElements[7].slice(1);
        const tooltipText = `Hit the ${prop} in:\n${outof5} of last five games\n${outof10} of last ten games\n${streak} straight games`;

        // Add tooltip
        lineContainer.setAttribute('title', tooltipText);

        // Add click event listener to open player statistics URL in a new page
        lineContainer.addEventListener('click', function() {
            window.open(playerStatsURL, '_blank');
        });

        // Append container to content
        contentDiv.appendChild(lineContainer);
    });
}

function getCurrentDate() {
    const dateNow = new Date();
    const dateOptions = { year: 'numeric', month: 'long', day: 'numeric' };
    return dateNow.toLocaleDateString('en-US', dateOptions);
}

function getCurrentDateTime() {
    const now = new Date();
    const options = { hour: 'numeric', minute: 'numeric', hour12: true, timeZoneName: 'short', timeZone: 'America/Chicago' };
    return now.toLocaleString('en-US', options);
}


window.onload = function() {
    const currentSubtitle = document.getElementById('subtitle');
    const currentTime = getCurrentDateTime();
    currentSubtitle.innerText = `Hover to see details, click to view stats (Updated ${currentTime})`;
    const currentDateSpan = document.getElementById('date');
    currentDateSpan.innerText = getCurrentDate();
    setContent();
};

