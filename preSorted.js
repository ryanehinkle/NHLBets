// Paste the contents into this variable as a multiline string
const contentText = `SJS Fabian Zetterlund To record 1+ shots (94.92%) (28.81%)
BUF Alex Tuch To record 1+ shots (94.44%) (27.78%)
MIN Mats Zuccarello To record 1+ shots (94.23%) (26.92%)
VAN Quinn Hughes To record 1+ shots (92.06%) (30.16%)
WPG Sean Monahan To record 1+ shots (91.53%) (27.12%)
WSH Tom Wilson To record 1+ shots (91.53%) (32.20%)
LAK Phillip Danault To record 1+ shots (91.53%) (30.51%)
NJD Timo Meier To record 1+ shots (91.49%) (23.40%)
EDM Evan Bouchard To record 1+ shots (91.38%) (24.14%)
PIT Kris Letang To record 1+ shots (91.38%) (29.31%)
EDM Ryan Nugent-Hopkins To record 1+ shots (91.23%) (35.09%)
VAN Brock Boeser To record 1+ shots (90.48%) (22.22%)
ARI Nick Bjugstad To record 1+ shots (90.00%) (36.67%)
NJD Erik Haula To record 1+ shots (88.89%) (38.89%)
BUF Tage Thompson To record 2+ shots (88.24%) (23.53%)
ANA Adam Henrique To record 1+ shots (88.14%) (32.20%)
WSH Dylan Strome To record 1+ shots (88.14%) (27.12%)
EDM Darnell Nurse To record 1+ shots (87.93%) (24.14%)
MIN Kirill Kaprizov To record 2+ shots (87.27%) (23.64%)
SJS Filip Zadina To record 1+ shots (87.04%) (33.33%)
PIT Rickard Rakell To record 1+ shots (86.96%) (21.74%)
SJS Mikael Granlund To record 1+ shots (86.96%) (36.96%)
ARI Lawson Crouse To record 1+ shots (86.44%) (22.03%)
EDM Connor McDavid To record 2+ shots (86.21%) (29.31%)
WSH Connor McMichael To record 1+ shots (85.96%) (40.35%)
EDM Mattias Ekholm To record 1+ shots (85.96%) (33.33%)
ARI Matias Maccelli To record 1+ shots (85.00%) (35.00%)
PIT Drew OConnor To record 1+ shots (84.48%) (29.31%)
LAK Adrian Kempe To record 2+ shots (84.21%) (28.07%)
ARI Nick Schmaltz To record 1+ shots (84.21%) (22.81%)
MIN Matthew Boldy To record 2+ shots (83.33%) (27.78%)
VAN Filip Hronek To record 1+ shots (82.26%) (29.03%)
NJD Tyler Toffoli To record 2+ shots (81.36%) (30.51%)
PIT Evgeni Malkin To record 2+ shots (79.31%) (31.03%)
WSH Aliaksei Protas To record 1+ shots (79.31%) (37.93%)
ANA Ryan Strome To record 1+ shots (78.95%) (31.58%)
BUF Casey Mittelstadt To record 1+ shots (78.69%) (29.51%)
EDM Leon Draisaitl To record 2+ shots (78.33%) (31.67%)
ARI Logan Cooley To record 1+ shots (78.33%) (30.00%)
VAN Nils Hoglander To record 1+ shots (78.33%) (38.33%)
BUF John-Jason Peterka To record 2+ shots (77.05%) (22.95%)
PIT Sidney Crosby To record 3+ shots (76.27%) (27.12%)
MIN Joel Eriksson-Ek To record 3+ shots (75.41%) (24.59%)
LAK Kevin Fiala To record 2+ shots (74.58%) (22.03%)
WSH Anthony Mantha To record 1+ shots (74.55%) (32.73%)
PIT Erik Karlsson To record 2+ shots (74.14%) (32.76%)
MIN Marcus Johansson To record 1+ shots (73.77%) (32.79%)
WSH Alex Ovechkin To record 3+ shots (73.21%) (28.57%)
VAN Elias Pettersson To record 2+ shots (73.02%) (26.98%)
VAN Pius Suter To record 1+ shots (72.92%) (33.33%)
EDM Zach Hyman To record 3+ shots (71.93%) (24.56%)
ANA Mason McTavish To record 2+ shots (71.15%) (34.62%)
BUF Dylan Cozens To record 2+ shots (70.69%) (29.31%)
LAK Quinton Byfield To record 2+ shots (68.42%) (35.09%)
NJD Jack Hughes To record 4+ shots (68.18%) (18.18%)
EDM Warren Foegele To record 2+ shots (67.24%) (31.03%)
VAN JT Miller To record 2+ shots (66.67%) (26.98%)
VAN Conor Garland To record 2+ shots (66.13%) (33.87%)
WPG Kyle Connor To record 3+ shots (65.91%) (20.45%)
ARI Dylan Guenther To record 2+ shots (65.22%) (30.43%)
LAK Alex Laferriere To record 2+ shots (63.79%) (36.21%)
ANA Troy Terry To record 2+ shots (63.64%) (27.27%)
PIT Reilly Smith To record 2+ shots (63.46%) (34.62%)
EDM Evander Kane To record 3+ shots (63.16%) (26.32%)
MIN Jonas Brodin To record 2+ shots (62.79%) (32.56%)
PIT Lars Eller To record 2+ shots (62.07%) (25.86%)
ARI Jason Zucker To record 2+ shots (62.00%) (36.00%)
ARI Sean Durzi To record 2+ shots (61.11%) (40.74%)
WSH John Carlson To record 2+ shots (61.02%) (27.12%)
ARI Barrett Hayton To record 2+ shots (60.71%) (28.57%)
NJD Jesper Bratt To record 3+ shots (60.66%) (29.51%)
MIN Marco Rossi To record 2+ shots (60.66%) (24.59%)
WPG Nikolaj Ehlers To record 3+ shots (59.32%) (22.03%)
LAK Drew Doughty To record 2+ shots (57.63%) (30.51%)
LAK Pierre-Luc Dubois To record 2+ shots (57.63%) (25.42%)
LAK Anze Kopitar To record 2+ shots (57.63%) (33.90%)
BUF Rasmus Dahlin To record 3+ shots (56.45%) (22.58%)
SJS Anthony Duclair To record 2+ shots (55.56%) (33.33%)
WPG Gabriel Vilardi To record 3+ shots (52.63%) (23.68%)
SJS William Eklund To record 2+ shots (50.00%) (31.03%)
WPG Mark Scheifele To record 3+ shots (49.06%) (35.85%)
NJD Nico Hischier To record 3+ shots (48.98%) (24.49%)
VAN Elias Lindholm To record 3+ shots (47.62%) (22.22%)
MIN Brock Faber To record 2+ shots (47.54%) (31.15%)
WPG Joshua Morrissey To record 3+ shots (47.46%) (23.73%)
WPG Nino Niederreiter To record 3+ shots (47.46%) (25.42%)
WSH Max Pacioretty To record 3+ shots (45.83%) (25.00%)
MIN Ryan Hartman To record 3+ shots (44.64%) (26.79%)
ANA Frank Vatrano To record 4+ shots (44.26%) (22.95%)
BUF Jeff Skinner To record 4+ shots (43.40%) (22.64%)
LAK Trevor Moore To record 4+ shots (42.37%) (23.73%)
SJS Alexander Barabanov To record 0+ shots (35.14%) (35.14%)
ANA Alex Killorn To record 4+ shots (31.71%) (24.39%)`;

// Store content as an array instead of a string
const contentArray = contentText.split('\n');

// Function to get border color based on team abbreviation
function getTeamColor(abbreviation) {
    const colors = {
        'ANA': '#B9975B',
        'ARI': '#8C2633',
        'BOS': '#FFB81C',
        'BUF': '#003087',
        'CGY': '#D2001C',
        'CAR': '#CE1126',
        'CHI': '#CF0A2C',
        'COL': '#6F263D',
        'CBJ': '#002654',
        'DAL': '#006847',
        'DET': '#CE1126',
        'EDM': '#FF4C00',
        'FLA': '#C8102E',
        'LAK': '#111111',
        'MIN': '#154734',
        'MTL': '#AF1E2D',
        'NSH': '#FFB81C',
        'NJD': '#CE1126',
        'NYI': '#00539B',
        'NYR': '#0038A8',
        'OTT': '#DA1A32',
        'PHI': '#F74902',
        'PIT': '#FCB514',
        'SJS': '#006D75',
        'SEA': '#99D9D9',
        'STL': '#002F87',
        'TBL': '#002868',
        'TOR': '#00205B',
        'VAN': '#00205B',
        'VGK': '#B4975A',
        'WSH': '#C8102E',
        'WPG': '#041E42'
    };
    return colors[abbreviation] || '#000000'; // Return black if no matching abbreviation found
}

// Function to set content in the HTML
function setContent() {
    const contentDiv = document.getElementById('content');
    // Iterate over the content array
    contentArray.forEach(line => {
        // Remove the first word (team abbreviation) from the line
        const lineWithoutAbbreviation = line.split(' ').slice(1).join(' ');
        
        // Extract relevant data from the line
        const lineElements = lineWithoutAbbreviation.split(' ');
        //const firstname = lineElements[0].toLowerCase(); // First name (assumed to be the first word)
        //const lastname = lineElements[1].toLowerCase(); // Last name (assumed to be the second word)
        
        // Construct the player statistics URL
        //const playerStatsURL = `https://www.foxsports.com/nhl/${firstname}-${lastname}-player-game-log?season=2023&seasonType=reg`;

        const lineContainer = document.createElement('div'); // Create container for each line
        lineContainer.classList.add('line-container', 'oswald-font'); // Add CSS classes for styling
        lineContainer.style.display = 'flex'; // Set display to flex

        // Extract team abbreviation from the line and convert it to uppercase
        const abbreviation = line.split(' ')[0].toUpperCase(); // Assuming the abbreviation is the first word

        lineContainer.style.borderColor = getTeamColor(abbreviation);

        // Create an image element
        const logoImg = document.createElement('img');
        logoImg.src = `https://assets.nhle.com/logos/nhl/svg/${abbreviation}_light.svg`; // Set the source URL
        logoImg.alt = `${abbreviation} Logo`; // Set alt text for accessibility
        logoImg.style.maxHeight = '1.5em'; // Set maximum height
        logoImg.style.marginRight = '10px'; // Add right margin to create space between image and text
        logoImg.style.flexShrink = '0'; // Prevent image from shrinking

        // Append the image before the line
        lineContainer.appendChild(logoImg);

        // Create a div for the line text
        const lineDiv = document.createElement('div');
        lineDiv.textContent = lineWithoutAbbreviation.trim(); // Use the modified line without the abbreviation

        // Append line text to container
        lineContainer.appendChild(lineDiv);

        // Construct tooltip text using relevant data from the line
        //const prop = lineElements[2].toString().toLowerCase();
        //const outof5 = lineElements[5].split('/')[0].slice(1);
        //const outof10 = lineElements[6].split('/')[0].slice(1);
        //const streak = lineElements[7].slice(1);
        //const tooltipText = `Hit the ${prop} in:\n${outof5} of last five games\n${outof10} of last ten games\n${streak} straight games`;

        // Add tooltip
        //lineContainer.setAttribute('title', tooltipText);

        // Add click event listener to open player statistics URL in a new page
        //lineContainer.addEventListener('click', function() {
            //window.open(playerStatsURL, '_blank');
        //});

        // Append container to content
       contentDiv.appendChild(lineContainer);
    });
}

function getCurrentDate() {
    const dateNow = new Date();
    const dateOptions = { year: 'numeric', month: 'long', day: 'numeric' };
    return dateNow.toLocaleDateString('en-US', dateOptions);
}

function getCurrentDateTime() {
    const now = new Date();
    const options = { hour: 'numeric', minute: 'numeric', hour12: true, timeZoneName: 'short', timeZone: 'America/Chicago' };
    return now.toLocaleString('en-US', options);
}


window.onload = function() {
    const currentSubtitle = document.getElementById('subtitle');
    const currentTime = getCurrentDateTime();
    currentSubtitle.innerText = `Hover to see details, click to view stats (Updated ${currentTime})`;
    const currentDateSpan = document.getElementById('date');
    currentDateSpan.innerText = getCurrentDate();
    setContent();
};

// Add this JavaScript to highlight the active link based on the current page
document.addEventListener('DOMContentLoaded', function() {
    var currentUrl = window.location.href;
    var navLinks = document.querySelectorAll('.nav-link');

    navLinks.forEach(function(navLink) {
        if (navLink.href === currentUrl) {
            navLink.classList.add('active');
        }
    });
});

