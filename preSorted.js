// Paste the contents into this variable as a multiline string
const contentText = `SEA Jaden Schwartz To record 1+ shots (97.44%) (41.03%)
CGY Nazem Kadri To record 1+ shots (96.43%) (19.64%)
BOS Jake DeBrusk To record 1+ shots (96.36%) (30.91%)
STL Torey Krug To record 1+ shots (96.36%) (38.18%)
VGK William Karlsson To record 1+ shots (95.45%) (27.27%)
MTL Nick Suzuki To record 1+ shots (94.74%) (31.58%)
TOR Mitchell Marner To record 1+ shots (94.64%) (25.00%)
CGY MacKenzie Weegar To record 1+ shots (94.64%) (28.57%)
CAR Brent Burns To record 1+ shots (94.55%) (32.73%)
OTT Jakob Chychrun To record 1+ shots (94.34%) (30.19%)
COL Miles Wood To record 1+ shots (94.23%) (32.69%)
VGK Alex Pietrangelo To record 1+ shots (94.12%) (27.45%)
FLA Samuel Bennett To record 1+ shots (93.18%) (29.55%)
DAL Joe Pavelski To record 1+ shots (92.98%) (24.56%)
SEA Oliver Bjorkstrand To record 1+ shots (92.86%) (26.79%)
LAK Phillip Danault To record 1+ shots (92.59%) (33.33%)
WSH Tom Wilson To record 1+ shots (92.59%) (29.63%)
VAN Quinn Hughes To record 1+ shots (91.53%) (30.51%)
FLA Matthew Tkachuk To record 2+ shots (91.07%) (32.14%)
COL Artturi Lehkonen To record 1+ shots (90.91%) (31.82%)
OTT Drake Batherson To record 1+ shots (90.57%) (30.19%)
PIT Kris Letang To record 1+ shots (90.57%) (32.08%)
NJD Timo Meier To record 1+ shots (90.48%) (23.81%)
VGK Shea Theodore To record 1+ shots (90.48%) (33.33%)
FLA Brandon Montour-2 To record 1+ shots (90.00%) (22.50%)
VAN Brock Boeser To record 1+ shots (89.83%) (22.03%)
BOS Charles McAvoy To record 1+ shots (89.80%) (30.61%)
WSH John Carlson To record 1+ shots (88.89%) (25.93%)
NJD Erik Haula To record 1+ shots (87.76%) (36.73%)
COL Devon Toews To record 1+ shots (87.72%) (31.58%)
TBL Anthony Cirelli To record 1+ shots (87.50%) (35.71%)
FLA Evan Rodrigues To record 1+ shots (87.50%) (23.21%)
NYR Chris Kreider To record 2+ shots (87.27%) (34.55%)
NYI Kyle Palmieri To record 1+ shots (87.27%) (23.64%)
STL Brayden Schenn To record 1+ shots (87.27%) (30.91%)
CAR Brady Skjei To record 1+ shots (87.27%) (25.45%)
NYI Bo Horvat To record 2+ shots (87.04%) (27.78%)
PIT Lars Eller To record 1+ shots (86.79%) (24.53%)
SEA Yanni Gourde To record 1+ shots (86.79%) (26.42%)
COL Mikko Rantanen To record 2+ shots (85.96%) (26.32%)
CGY Andrew Mangiapane To record 1+ shots (85.45%) (32.73%)
STL Kevin Hayes To record 1+ shots (85.45%) (32.73%)
PIT Bryan Rust To record 2+ shots (85.00%) (30.00%)
TOR Noah Gregor To record 1+ shots (84.91%) (32.08%)
OTT Vladimir Tarasenko To record 1+ shots (84.31%) (27.45%)
TBL Nicholas Paul To record 1+ shots (84.21%) (29.82%)
CGY Noah Hanifin To record 1+ shots (83.93%) (26.79%)
WSH TJ Oshie To record 1+ shots (83.78%) (32.43%)
MTL Cole Caufield To record 2+ shots (83.64%) (16.36%)
LAK Adrian Kempe To record 2+ shots (83.33%) (29.63%)
LAK Pierre-Luc Dubois To record 1+ shots (83.33%) (25.93%)
DAL Thomas Harley To record 1+ shots (83.33%) (27.78%)
OTT Shane Pinto To record 2+ shots (83.33%) (25.00%)
PIT Evgeni Malkin To record 2+ shots (83.02%) (32.08%)
PIT Drew OConnor To record 1+ shots (83.02%) (28.30%)
VGK Nicolas Roy To record 1+ shots (82.98%) (42.55%)
MTL Josh Anderson To record 1+ shots (82.35%) (23.53%)
MTL Alex Newhook To record 1+ shots (82.14%) (39.29%)
OTT Jake Sanderson To record 1+ shots (82.00%) (28.00%)
STL Jake Neighbours To record 1+ shots (81.82%) (30.91%)
NJD Tyler Toffoli To record 2+ shots (81.48%) (29.63%)
COL Cale Makar To record 2+ shots (81.13%) (22.64%)
VAN Filip Hronek To record 1+ shots (81.03%) (25.86%)
NYI Mathew Barzal To record 2+ shots (80.36%) (25.00%)
NYI Pierre Engvall To record 1+ shots (79.59%) (26.53%)
SEA Andre Burakovsky To record 1+ shots (79.17%) (37.50%)
BOS Brad Marchand To record 2+ shots (78.95%) (29.82%)
NJD Luke Hughes To record 1+ shots (78.18%) (34.55%)
TBL Steven Stamkos To record 2+ shots (77.78%) (22.22%)
FLA Sam Reinhart To record 2+ shots (77.59%) (25.86%)
CAR Martin Necas To record 2+ shots (76.00%) (34.00%)
CGY Andrei Kuzmenko To record 1+ shots (76.00%) (34.00%)
PIT Sidney Crosby To record 3+ shots (75.93%) (29.63%)
OTT Claude Giroux To record 2+ shots (75.47%) (28.30%)
DAL Jason Robertson To record 2+ shots (75.44%) (28.07%)
DET Alex DeBrincat To record 2+ shots (75.00%) (23.21%)
MTL Juraj Slafkovsky To record 1+ shots (74.55%) (29.09%)
WSH Alex Ovechkin To record 3+ shots (74.51%) (31.37%)
OTT Thomas Chabot To record 2+ shots (74.19%) (25.81%)
TBL Brandon Hagel To record 2+ shots (73.68%) (29.82%)
PIT Erik Karlsson To record 2+ shots (73.58%) (33.96%)
OTT Tim Stutzle To record 2+ shots (73.58%) (26.42%)
VAN Elias Pettersson To record 2+ shots (72.88%) (25.42%)
MTL Michael Matheson To record 2+ shots (72.73%) (25.45%)
LAK Kevin Fiala To record 2+ shots (72.22%) (22.22%)
SEA Jared McCann To record 2+ shots (72.22%) (24.07%)
OTT Joshua Norris To record 2+ shots (71.74%) (30.43%)
CGY Blake Coleman To record 2+ shots (71.43%) (28.57%)
BOS David Pastrnak To record 4+ shots (71.19%) (18.64%)
BOS James van-Riemsdyk To record 2+ shots (69.81%) (32.08%)
DAL Miro Heiskanen To record 2+ shots (69.57%) (26.09%)
LAK Quinton Byfield To record 2+ shots (69.23%) (32.69%)
CGY Rasmus Andersson To record 2+ shots (69.23%) (28.85%)
DAL Roope Hintz To record 2+ shots (69.09%) (27.27%)
NYI Brock Nelson To record 3+ shots (69.09%) (29.09%)
COL Nathan MacKinnon To record 4+ shots (68.97%) (25.86%)
VAN Conor Garland To record 2+ shots (68.97%) (36.21%)
DET Daniel Sprong To record 2+ shots (68.52%) (24.07%)
NYR Vincent Trocheck To record 2+ shots (68.42%) (21.05%)
NSH Ryan OReilly To record 2+ shots (67.86%) (26.79%)
CAR Andrei Svechnikov To record 2+ shots (67.65%) (26.47%)
NYI Noah Dobson To record 2+ shots (67.27%) (23.64%)
FLA Gustav Forsling To record 2+ shots (67.27%) (34.55%)
OTT Brady Tkachuk To record 4+ shots (66.67%) (31.48%)
SEA Vince Dunn To record 2+ shots (66.67%) (31.37%)
DET Patrick Kane To record 3+ shots (66.67%) (33.33%)
NSH Roman Josi To record 3+ shots (66.07%) (30.36%)
NYI Anders Lee To record 2+ shots (65.45%) (27.27%)
DET Dylan Larkin-2 To record 3+ shots (65.31%) (22.45%)
DAL Tyler Seguin To record 2+ shots (64.91%) (29.82%)
WSH Dylan Strome To record 2+ shots (64.81%) (25.93%)
NYI Mike Reilly-2 To record 2+ shots (64.71%) (26.47%)
VAN JT Miller To record 2+ shots (64.41%) (27.12%)
TBL Michael Eyssimont To record 2+ shots (64.29%) (39.29%)
NSH Cody Glass To record 2+ shots (64.29%) (35.71%)
PIT Reilly Smith To record 2+ shots (63.83%) (34.04%)
PIT Rickard Rakell To record 2+ shots (63.41%) (24.39%)
STL Robert Thomas To record 2+ shots (63.16%) (35.09%)
TBL Victor Hedman To record 2+ shots (61.82%) (30.91%)
CAR Jordan Martinook To record 2+ shots (61.82%) (29.09%)
CGY Yegor Sharangovich To record 2+ shots (60.71%) (23.21%)
NSH Gustav Nyquist To record 2+ shots (60.71%) (30.36%)
FLA Aaron Ekblad To record 2+ shots (60.53%) (28.95%)
TOR John Tavares To record 4+ shots (60.38%) (33.96%)
BOS Pavel Zacha To record 2+ shots (60.38%) (28.30%)
STL Jordan Kyrou To record 3+ shots (60.00%) (29.09%)
COL Ross Colton To record 2+ shots (60.00%) (27.27%)
TOR William Nylander To record 4+ shots (59.65%) (22.81%)
TOR Auston Matthews To record 4+ shots (58.93%) (21.43%)
NJD Jesper Bratt To record 3+ shots (58.93%) (26.79%)
NYR Jacob Trouba To record 2+ shots (58.49%) (39.62%)
SEA Eeli Tolvanen To record 2+ shots (58.18%) (27.27%)
TOR Tyler Bertuzzi To record 2+ shots (57.41%) (31.48%)
LAK Anze Kopitar To record 2+ shots (57.41%) (35.19%)
CAR Sebastian Aho To record 3+ shots (56.60%) (26.42%)
STL Pavel Buchnevich To record 3+ shots (56.60%) (32.08%)
TBL Brayden Point To record 3+ shots (56.14%) (26.32%)
NYR Alexis Lafreniere To record 3+ shots (54.55%) (32.73%)
FLA Aleksander Barkov To record 3+ shots (54.00%) (26.00%)
CAR Michael Bunting To record 2+ shots (53.70%) (27.78%)
DET Lucas Raymond To record 2+ shots (53.70%) (27.78%)
CGY Mikael Backlund To record 3+ shots (53.57%) (26.79%)
WSH Max Pacioretty To record 3+ shots (52.63%) (31.58%)
TBL Nikita Kucherov To record 5+ shots (50.88%) (22.81%)
VGK Jonathan Marchessault To record 4+ shots (50.00%) (23.21%)
NJD Jack Hughes To record 6+ shots (49.23%) (20.51%)
VAN Elias Lindholm To record 3+ shots (49.15%) (23.73%)
DAL Wyatt Johnston To record 3+ shots (49.12%) (24.56%)
CAR Seth Jarvis To record 3+ shots (49.09%) (23.64%)
NYR Artemi Panarin To record 4+ shots (49.09%) (21.82%)
NYR Mika Zibanejad To record 3+ shots (48.15%) (22.22%)
NJD Nico Hischier To record 3+ shots (47.73%) (27.27%)
MTL Joel Armia To record 3+ shots (43.59%) (33.33%)
NSH Filip Forsberg To record 5+ shots (43.10%) (22.41%)
FLA Carter Verhaeghe To record 4+ shots (42.86%) (25.00%)
LAK Trevor Moore To record 4+ shots (42.59%) (24.07%)
SEA Jordan Eberle To record 3+ shots (41.18%) (29.41%)
NYR Adam Fox To record 0+ shots (24.44%) (24.44%)`;

// Store content as an array instead of a string
const contentArray = contentText.split('\n');

// Function to get border color based on team abbreviation
function getTeamColor(abbreviation) {
    const colors = {
        'ANA': '#B9975B',
        'ARI': '#8C2633',
        'BOS': '#FFB81C',
        'BUF': '#003087',
        'CGY': '#D2001C',
        'CAR': '#CE1126',
        'CHI': '#CF0A2C',
        'COL': '#6F263D',
        'CBJ': '#002654',
        'DAL': '#006847',
        'DET': '#CE1126',
        'EDM': '#FF4C00',
        'FLA': '#C8102E',
        'LAK': '#111111',
        'MIN': '#154734',
        'MTL': '#AF1E2D',
        'NSH': '#FFB81C',
        'NJD': '#CE1126',
        'NYI': '#00539B',
        'NYR': '#0038A8',
        'OTT': '#DA1A32',
        'PHI': '#F74902',
        'PIT': '#FCB514',
        'SJS': '#006D75',
        'SEA': '#99D9D9',
        'STL': '#002F87',
        'TBL': '#002868',
        'TOR': '#00205B',
        'VAN': '#00205B',
        'VGK': '#B4975A',
        'WSH': '#C8102E',
        'WPG': '#041E42'
    };
    return colors[abbreviation] || '#000000'; // Return black if no matching abbreviation found
}

// Function to set content in the HTML
function setContent() {
    const contentDiv = document.getElementById('content');
    // Iterate over the content array
    contentArray.forEach(line => {
        // Remove the first word (team abbreviation) from the line
        const lineWithoutAbbreviation = line.split(' ').slice(1).join(' ');
        
        // Extract relevant data from the line
        const lineElements = lineWithoutAbbreviation.split(' ');
        //const firstname = lineElements[0].toLowerCase(); // First name (assumed to be the first word)
        //const lastname = lineElements[1].toLowerCase(); // Last name (assumed to be the second word)
        
        // Construct the player statistics URL
        //const playerStatsURL = `https://www.foxsports.com/nhl/${firstname}-${lastname}-player-game-log?season=2023&seasonType=reg`;

        const lineContainer = document.createElement('div'); // Create container for each line
        lineContainer.classList.add('line-container', 'oswald-font'); // Add CSS classes for styling
        lineContainer.style.display = 'flex'; // Set display to flex

        // Extract team abbreviation from the line and convert it to uppercase
        const abbreviation = line.split(' ')[0].toUpperCase(); // Assuming the abbreviation is the first word

        lineContainer.style.borderColor = getTeamColor(abbreviation);

        // Create an image element
        const logoImg = document.createElement('img');
        logoImg.src = `https://assets.nhle.com/logos/nhl/svg/${abbreviation}_light.svg`; // Set the source URL
        logoImg.alt = `${abbreviation} Logo`; // Set alt text for accessibility
        logoImg.style.maxHeight = '1.5em'; // Set maximum height
        logoImg.style.marginRight = '10px'; // Add right margin to create space between image and text
        logoImg.style.flexShrink = '0'; // Prevent image from shrinking

        // Append the image before the line
        lineContainer.appendChild(logoImg);

        // Create a div for the line text
        const lineDiv = document.createElement('div');
        lineDiv.textContent = lineWithoutAbbreviation.trim(); // Use the modified line without the abbreviation

        // Append line text to container
        lineContainer.appendChild(lineDiv);

        // Construct tooltip text using relevant data from the line
        //const prop = lineElements[2].toString().toLowerCase();
        //const outof5 = lineElements[5].split('/')[0].slice(1);
        //const outof10 = lineElements[6].split('/')[0].slice(1);
        //const streak = lineElements[7].slice(1);
        //const tooltipText = `Hit the ${prop} in:\n${outof5} of last five games\n${outof10} of last ten games\n${streak} straight games`;

        // Add tooltip
        //lineContainer.setAttribute('title', tooltipText);

        // Add click event listener to open player statistics URL in a new page
        //lineContainer.addEventListener('click', function() {
            //window.open(playerStatsURL, '_blank');
        //});

        // Append container to content
       contentDiv.appendChild(lineContainer);
    });
}

function getCurrentDate() {
    const dateNow = new Date();
    const dateOptions = { year: 'numeric', month: 'long', day: 'numeric' };
    return dateNow.toLocaleDateString('en-US', dateOptions);
}

function getCurrentDateTime() {
    const now = new Date();
    const options = { hour: 'numeric', minute: 'numeric', hour12: true, timeZoneName: 'short', timeZone: 'America/Chicago' };
    return now.toLocaleString('en-US', options);
}


window.onload = function() {
    const currentSubtitle = document.getElementById('subtitle');
    const currentTime = getCurrentDateTime();
    currentSubtitle.innerText = `Hover to see details, click to view stats (Updated ${currentTime})`;
    const currentDateSpan = document.getElementById('date');
    currentDateSpan.innerText = getCurrentDate();
    setContent();
};

// Add this JavaScript to highlight the active link based on the current page
document.addEventListener('DOMContentLoaded', function() {
    var currentUrl = window.location.href;
    var navLinks = document.querySelectorAll('.nav-link');

    navLinks.forEach(function(navLink) {
        if (navLink.href === currentUrl) {
            navLink.classList.add('active');
        }
    });
});

